export class Base64{constructor(){this.b64c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this.b64u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",this.b64pad="="}encode(t){const e=unescape(encodeURIComponent(t));return this.encodeData(e,e.length,this.b64c)}urlEncode(t){const e=unescape(encodeURIComponent(t));return this.encodeData(e,e.length,this.b64u)}decode(t){let e,r,h,a,c,d="";for(e=0;e<t.length-3;e+=4)r=this.charIndex(t.charAt(e+0)),h=this.charIndex(t.charAt(e+1)),a=this.charIndex(t.charAt(e+2)),c=this.charIndex(t.charAt(e+3)),d+=String.fromCharCode(r<<2|h>>>4),t.charAt(e+2)!==this.b64pad&&(d+=String.fromCharCode(h<<4&240|a>>>2&15)),t.charAt(e+3)!==this.b64pad&&(d+=String.fromCharCode(a<<6&192|c));return d=decodeURIComponent(escape(d)),d}urlSniff(t){return t.indexOf("-")>=0||t.indexOf("_")>=0}encodeData(t,e,r){let h="",a=0;for(a=0;a<=e-3;a+=3)h+=r.charAt(t.charCodeAt(a)>>>2),h+=r.charAt((3&t.charCodeAt(a))<<4|t.charCodeAt(a+1)>>>4),h+=r.charAt((15&t.charCodeAt(a+1))<<2|t.charCodeAt(a+2)>>>6),h+=r.charAt(63&t.charCodeAt(a+2));return e%3==2?(h+=r.charAt(t.charCodeAt(a)>>>2),h+=r.charAt((3&t.charCodeAt(a))<<4|t.charCodeAt(a+1)>>>4),h+=r.charAt((15&t.charCodeAt(a+1))<<2),h+=this.b64pad):e%3==1&&(h+=r.charAt(t.charCodeAt(a)>>>2),h+=r.charAt((3&t.charCodeAt(a))<<4),h+=this.b64pad,h+=this.b64pad),h}charIndex(t){return"+"===t?62:"/"===t?63:this.b64u.indexOf(t)}}